import type { Case } from "../types";

const invisibleThreadsOfConspiracy: Case = {
  id: "case-004",
  title: "Невидимые нити заговора",
  difficulty: 3,
  description:
    "Необходимо объединить данные из разных источников, чтобы выявить связи между подозрительными действиями стражников и финансовыми операциями.",
  xpReward: 300,
  completed: false,
  isNew: false,
  category: "advanced",
  brief: `По мере того как улики складываются, начинается распутываться сеть интриг. Некоторые имена повторяются как в записях ночной вахты, так и в финансовых операциях. Кто-то из них мог действовать с двойной целью, пытаясь отвлечь внимание от настоящей цели заговора. Заговор приобретает форму – теперь нужно объединить данные, чтобы увидеть полную картину.

Вы решаете соединить данные из camp_logs и finances, чтобы выявить, совпадают ли имена стражников, покидающих лагерь в ночное время, с теми, кто получил крупные выплаты.`,
  objectives: [
    "Соединить данные из таблиц camp_logs и finances",
    "Найти совпадения между стражниками и получателями выплат",
    "Выявить подозрительные связи между ночными выходами и финансовыми операциями",
  ],
  solution: {
    answer: `SELECT c.guard_name, c.date, c.time, f.amount
FROM camp_logs c
JOIN finances f
  ON c.guard_name = f.recipient_name
WHERE c.date = '1380-09-07'
  AND c.time > '00:00:00'
  AND f.transaction_date = '1380-09-06'
  AND f.amount > 50
  AND c.action = 'exit'`,
    successMessage:
      "Превосходно! Вы обнаружили важные связи между подозрительными действиями и финансовыми операциями.",
    explanation: `Вы успешно выполнили сложный запрос, объединяющий данные из двух таблиц. 
Этот запрос помог вам:
• Найти стражников, которые покидали лагерь ночью
• Установить связь с получателями крупных выплат
• Выявить подозрительные совпадения во времени
• Обнаружить возможных участников заговора`,
  },
};

export default invisibleThreadsOfConspiracy;
